<!DOCTYPE html>
<html lang="en"><head>
    





<title>JavaScript - Scroll Progress | tedshd&#39;s DevNote</title>

<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content='JavaScript - Scroll Progress Show a progress bar about page scroll position.
This used scroll event Progress bar must handle scroll position and scroll total height, and show it for percent View MDN document can find it can&#39;t use scrollHeight, because when scroll bar scroll to bottom, scrollTop not equal scrollHeight
dom = document.querySelector(&#39;body&#39;);percent = (dom.scrollTop/(dom.scrollHeight - document.documentElement.clientHeight))*100 &#43; &#39;%&#39;;Then find scrollTop didn&#39;t work in firefox
if (dom.scrollTop) {percent = (dom.'>
<meta name="keywords" content=''>
<meta name="msapplication-TileColor" content="#b91d47">
<meta name="theme-color" content="#ffffff">

<link rel="canonical" href="http://blog.tedshd.io/posts/2014-03-02-javascript-scroll-progress/" />
<link rel="apple-touch-icon" sizes="180x180" href='/apple-touch-icon.png'>
<link rel="icon" type="image/png" sizes="32x32" href='/favicon-32x32.png'>
<link rel="icon" type="image/png" sizes="16x16" href='/favicon-16x16.png'>
<link rel="manifest" href='/site.webmanifest'>
<link rel="mask-icon" href='/safari-pinned-tab.svg' color="#696969">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">

<meta property="og:title" content="JavaScript - Scroll Progress" />
<meta property="og:description" content="JavaScript - Scroll Progress Show a progress bar about page scroll position.
This used scroll event Progress bar must handle scroll position and scroll total height, and show it for percent View MDN document can find it can&#39;t use scrollHeight, because when scroll bar scroll to bottom, scrollTop not equal scrollHeight
dom = document.querySelector(&#39;body&#39;);percent = (dom.scrollTop/(dom.scrollHeight - document.documentElement.clientHeight))*100 &#43; &#39;%&#39;;Then find scrollTop didn&#39;t work in firefox
if (dom.scrollTop) {percent = (dom." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://blog.tedshd.io/posts/2014-03-02-javascript-scroll-progress/" />
<meta property="og:image" content="https://s3.amazonaws.com/logdown-production/system/blog/3202/og_image/logdown.png"/>
<meta property="article:published_time" content="2014-03-02T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-01-29T17:42:46+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://s3.amazonaws.com/logdown-production/system/blog/3202/og_image/logdown.png"/>

<meta name="twitter:title" content="JavaScript - Scroll Progress"/>
<meta name="twitter:description" content="JavaScript - Scroll Progress Show a progress bar about page scroll position.
This used scroll event Progress bar must handle scroll position and scroll total height, and show it for percent View MDN document can find it can&#39;t use scrollHeight, because when scroll bar scroll to bottom, scrollTop not equal scrollHeight
dom = document.querySelector(&#39;body&#39;);percent = (dom.scrollTop/(dom.scrollHeight - document.documentElement.clientHeight))*100 &#43; &#39;%&#39;;Then find scrollTop didn&#39;t work in firefox
if (dom.scrollTop) {percent = (dom."/>

<meta itemprop="name" content="">
<meta itemprop="description" content="">
    
    
    
    
    
    <link rel="stylesheet" href='/css/style.css'>

    

</head><body><header id="navigation" class="p-navigation">
    <div class="p-navigation__row">
        <div class="p-navigation__banner">
            <div class="p-navigation__logo">
                <a class="p-navigation__link u-vertically-center p-link--logo" href="http://blog.tedshd.io/">
                    tedshd&#39;s DevNote
                </a>
            </div>
            
            <a href="#navigation" class="p-navigation__toggle--open" title="menu">
                <i class="p-icon--menu"></i>
            </a>
            <a href="#navigation-closed" class="p-navigation__toggle--close" title="close menu">
                <i class="p-icon--close"></i>
            </a>
        </div>

        <nav class="p-navigation__nav">
            <span class="u-off-screen">
                <a href="#main-content">Jump to main content</a>
            </span>

            <ul class="p-navigation__items" role="menu">
                
                <li class="p-navigation__item" role="menuitem">
                    <a class="p-navigation__link" href="http://blog.tedshd.io/categories">Categories</a>
                </li>
                
                <li class="p-navigation__item" role="menuitem">
                    <a class="p-navigation__link" href="http://blog.tedshd.io/tags">tags</a>
                </li>
                
            </ul>

            
            <form class="p-search-box" action="https://www.google.com/search" target="_blank">
    <input type="search" class="p-search-box__input" name="q" placeholder='Search'
        required="" aria-label="Query">
    <input type="hidden" name="sitesearch" value="http://blog.tedshd.io/">
    <button type="reset" class="p-search-box__reset" alt="reset" aria-label="Reset">
        <i class="p-icon--close"></i>
    </button>
    <button type="submit" class="p-search-box__button" alt="search" aria-label="Search">
        <i class="p-icon--search"></i>
    </button>
</form>
            
        </nav>
    </div>
</header><div id="main-content">
<header class="p-strip page-banner">
    <div class="row">
        <h1>JavaScript - Scroll Progress</h1>
    </div>

    

<div class="row">

    
    <div class="col-8">
        




<div class="p-media-object">

    

    <div class="p-media-object__details">

        

        
        <p class="p-media-object__content">
            <span class="u-capitalized">on</span>
            2014-03-02
        </p>
        

    </div>
</div>


    </div>
    

    

</div>




</header>

<section class="p-strip is-shallow">
    <main class="row post-content">
        <h2 id="javascript---scroll-progress">JavaScript - Scroll Progress</h2>
<p>Show a progress bar about page scroll position.</p>
<p>This used scroll event
Progress bar must handle scroll position and scroll total height, and show it for percent
View MDN document can find it can't use <code>scrollHeight</code>, because when scroll bar scroll to bottom, <code>scrollTop</code> not equal <code>scrollHeight</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">dom</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;body&#39;</span>);
<span style="color:#a6e22e">percent</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">dom</span>.<span style="color:#a6e22e">scrollTop</span><span style="color:#f92672">/</span>(<span style="color:#a6e22e">dom</span>.<span style="color:#a6e22e">scrollHeight</span> <span style="color:#f92672">-</span> document.<span style="color:#a6e22e">documentElement</span>.<span style="color:#a6e22e">clientHeight</span>))<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;%&#39;</span>;
</code></pre></div><p>Then find <code>scrollTop</code> didn't work in firefox</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">dom</span>.<span style="color:#a6e22e">scrollTop</span>) {
	<span style="color:#a6e22e">percent</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">dom</span>.<span style="color:#a6e22e">scrollTop</span><span style="color:#f92672">/</span>(<span style="color:#a6e22e">dom</span>.<span style="color:#a6e22e">scrollHeight</span> <span style="color:#f92672">-</span> document.<span style="color:#a6e22e">documentElement</span>.<span style="color:#a6e22e">clientHeight</span>))<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;%&#39;</span>;
} <span style="color:#66d9ef">else</span> {
	<span style="color:#a6e22e">percent</span> <span style="color:#f92672">=</span> (window.<span style="color:#a6e22e">pageYOffset</span><span style="color:#f92672">/</span>(<span style="color:#a6e22e">dom</span>.<span style="color:#a6e22e">scrollHeight</span> <span style="color:#f92672">-</span> document.<span style="color:#a6e22e">documentElement</span>.<span style="color:#a6e22e">clientHeight</span>))<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;%&#39;</span>;
}
</code></pre></div><p><a href="https://github.com/tedshd/scroll_progress">GitHub</a></p>
<p><a href="http://help.dottoro.com/ljurkcpe.php">Refer - onscroll event | scroll event</a>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Element.scrollTop">Refer - Element.scrollTop - Web API Interfaces | MDN</a>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Element.scrollHeight">Refer - element.scrollHeight - Web API Interfaces | MDN</a>
<a href="http://stackoverflow.com/questions/2481350/retrieve-scrollbar-position-with-javascript">Refer - retrieve Scrollbar position with javascript</a></p>

    </main>
</section>


<footer class="p-strip is-wrapper">
    <div class="row">
        <div class="p-article-pagination">
    

    
    <a class="p-article-pagination__link--previous" href="http://blog.tedshd.io/posts/2014-02-27-sublime-change-layout-view-in-2-columns/">
        <span class="p-article-pagination__label">Previous</span>
        <span class="p-article-pagination__title">
            Sublime - change layout view in 2 columns
        </span>
    </a>
    

    
    <a class="p-article-pagination__link--next" href="http://blog.tedshd.io/posts/2014-03-05-javascript-time-seconds-to-hhmmss/">
        <span class="p-article-pagination__label">Next</span>
        <span class="p-article-pagination__title">
            JavaScript - time seconds to hh:mm:ss
        </span>
    </a>
    
</div>
    </div>
</footer>



<div class="p-strip u-no-padding--bottom is-shallow">
    <div class="row">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "tedshd" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
</div>



        </div><footer class="p-strip is-shallow page-footer">
    <div class="row">
        <div class="col-12  u-align--center">
            <p>
                © 2020 Tedshd
            </p>
        </div>
    </div>
</footer>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-49247550-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




</body>
</html>
