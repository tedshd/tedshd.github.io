<!DOCTYPE html>
<html lang="en"><head>
    





<title>JavaScript - YouTube API note | tedshd&#39;s DevNote</title>

<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content='JavaScript - YouTube API note player demo YouTube JavaScript Player API Reference YouTube 嵌入式播放器参数 YouTube Embedded Players and Player Parameters YouTube Player API Reference for iframe Embeds Use YouTube video must init a youtube player There have 2 player we can use flash player iframe player I suggest use iframe player because it can support flash and HTML5 If use Apple mobile devices,'>
<meta name="keywords" content=''>
<meta name="msapplication-TileColor" content="#b91d47">
<meta name="theme-color" content="#ffffff">

<link rel="canonical" href="http://blog.tedshd.io/posts/2013-12-20-javascript-youtube-api-note/" />
<link rel="apple-touch-icon" sizes="180x180" href='/apple-touch-icon.png'>
<link rel="icon" type="image/png" sizes="32x32" href='/favicon-32x32.png'>
<link rel="icon" type="image/png" sizes="16x16" href='/favicon-16x16.png'>
<link rel="manifest" href='/site.webmanifest'>
<link rel="mask-icon" href='/safari-pinned-tab.svg' color="#696969">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">

<meta property="og:title" content="JavaScript - YouTube API note" />
<meta property="og:description" content="JavaScript - YouTube API note player demo YouTube JavaScript Player API Reference YouTube 嵌入式播放器参数 YouTube Embedded Players and Player Parameters YouTube Player API Reference for iframe Embeds Use YouTube video must init a youtube player There have 2 player we can use flash player iframe player I suggest use iframe player because it can support flash and HTML5 If use Apple mobile devices," />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://blog.tedshd.io/posts/2013-12-20-javascript-youtube-api-note/" />
<meta property="og:image" content="https://s3.amazonaws.com/logdown-production/system/blog/3202/og_image/logdown.png"/>
<meta property="article:published_time" content="2013-12-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-01-29T17:42:46+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://s3.amazonaws.com/logdown-production/system/blog/3202/og_image/logdown.png"/>

<meta name="twitter:title" content="JavaScript - YouTube API note"/>
<meta name="twitter:description" content="JavaScript - YouTube API note player demo YouTube JavaScript Player API Reference YouTube 嵌入式播放器参数 YouTube Embedded Players and Player Parameters YouTube Player API Reference for iframe Embeds Use YouTube video must init a youtube player There have 2 player we can use flash player iframe player I suggest use iframe player because it can support flash and HTML5 If use Apple mobile devices,"/>

<meta itemprop="name" content="">
<meta itemprop="description" content="">
    
    
    
    
    
    <link rel="stylesheet" href='/css/style.css'>

    

</head><body><header id="navigation" class="p-navigation">
    <div class="p-navigation__row">
        <div class="p-navigation__banner">
            <div class="p-navigation__logo">
                <a class="p-navigation__link u-vertically-center p-link--logo" href="http://blog.tedshd.io/">
                    tedshd&#39;s DevNote
                </a>
            </div>
            
            <a href="#navigation" class="p-navigation__toggle--open" title="menu">
                <i class="p-icon--menu"></i>
            </a>
            <a href="#navigation-closed" class="p-navigation__toggle--close" title="close menu">
                <i class="p-icon--close"></i>
            </a>
        </div>

        <nav class="p-navigation__nav">
            <span class="u-off-screen">
                <a href="#main-content">Jump to main content</a>
            </span>

            <ul class="p-navigation__items" role="menu">
                
                <li class="p-navigation__item" role="menuitem">
                    <a class="p-navigation__link" href="http://blog.tedshd.io/categories">Categories</a>
                </li>
                
                <li class="p-navigation__item" role="menuitem">
                    <a class="p-navigation__link" href="http://blog.tedshd.io/tags">tags</a>
                </li>
                
            </ul>

            
            <form class="p-search-box" action="https://www.google.com/search" target="_blank">
    <input type="search" class="p-search-box__input" name="q" placeholder='Search'
        required="" aria-label="Query">
    <input type="hidden" name="sitesearch" value="http://blog.tedshd.io/">
    <button type="reset" class="p-search-box__reset" alt="reset" aria-label="Reset">
        <i class="p-icon--close"></i>
    </button>
    <button type="submit" class="p-search-box__button" alt="search" aria-label="Search">
        <i class="p-icon--search"></i>
    </button>
</form>
            
        </nav>
    </div>
</header><div id="main-content">
<header class="p-strip page-banner">
    <div class="row">
        <h1>JavaScript - YouTube API note</h1>
    </div>

    

<div class="row">

    
    <div class="col-8">
        




<div class="p-media-object">

    

    <div class="p-media-object__details">

        

        
        <p class="p-media-object__content">
            <span class="u-capitalized">on</span>
            2013-12-20
        </p>
        

    </div>
</div>


    </div>
    

    

</div>




</header>

<section class="p-strip is-shallow">
    <main class="row post-content">
        <h2 id="javascript---youtube-api-note">JavaScript - YouTube API note</h2>
<p><a href="https://developers.google.com/youtube/youtube_player_demo">player demo</a>
<a href="https://developers.google.com/youtube/js_api_reference">YouTube JavaScript Player API Reference</a>
<a href="https://developers.google.com/youtube/player_parameters?playerVersion=HTML5&amp;hl=zh-cn">YouTube 嵌入式播放器参数</a>
<a href="https://developers.google.com/youtube/player_parameters?hl=en">YouTube Embedded Players and Player Parameters</a>
<a href="https://developers.google.com/youtube/iframe_api_reference">YouTube Player API Reference for iframe Embeds</a></p>
<p>Use YouTube video must init a youtube player
There have 2 player we can use</p>
<ul>
<li>flash player</li>
<li><strong>iframe player</strong></li>
</ul>
<p>I suggest use iframe player because it can support flash and HTML5
If use Apple mobile devices, they can't support flash
Use iframe player can solve this problem
We can use javascript control player</p>
<h3 id="this-is-a-note-to-iframe-api">This is a note to iframe API</h3>
<p>embed script</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://www.youtube.com/iframe_api&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><p>JavaScript generate</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">tag</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;script&#39;</span>),
    <span style="color:#a6e22e">firstScriptTag</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementsByTagName</span>(<span style="color:#e6db74">&#39;script&#39;</span>)[<span style="color:#ae81ff">0</span>];
<span style="color:#a6e22e">tag</span>.<span style="color:#a6e22e">src</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://www.youtube.com/iframe_api&#39;</span>;
<span style="color:#a6e22e">firstScriptTag</span>.<span style="color:#a6e22e">parentNode</span>.<span style="color:#a6e22e">insertBefore</span>(<span style="color:#a6e22e">tag</span>, <span style="color:#a6e22e">firstScriptTag</span>);
</code></pre></div><p>1.First check load iframe API</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">onYouTubeIframeAPIReady</span>() {
    <span style="color:#75715e">// do something
</span><span style="color:#75715e"></span>}
</code></pre></div><p>2.Init YouTube player</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">player</span>;
<span style="color:#a6e22e">player</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">YT</span>.<span style="color:#a6e22e">Player</span>(
    <span style="color:#e6db74">&#39;player&#39;</span>,
    {
        <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;1280&#39;</span>, <span style="color:#75715e">// player width
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;720&#39;</span>, <span style="color:#75715e">// player height
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">videoId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">videoList</span>[<span style="color:#ae81ff">0</span>], <span style="color:#75715e">// youtube id ex: &#39;0lfDNu-k6oo&#39;
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">playerVars</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">rel</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
            <span style="color:#a6e22e">autoplay</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
            <span style="color:#a6e22e">disablekb</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
            <span style="color:#a6e22e">showsearch</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
            <span style="color:#a6e22e">showinfo</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
            <span style="color:#a6e22e">controls</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
            <span style="color:#a6e22e">wmode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;opaque&#39;</span>,
            <span style="color:#a6e22e">hd</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
            <span style="color:#a6e22e">html5</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
            <span style="color:#a6e22e">iv_load_policy</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>
        },
        <span style="color:#a6e22e">events</span><span style="color:#f92672">:</span> {
            <span style="color:#e6db74">&#39;onReady&#39;</span>        <span style="color:#f92672">:</span> <span style="color:#a6e22e">onPlayerReady</span>,
            <span style="color:#e6db74">&#39;onStateChange&#39;</span>  <span style="color:#f92672">:</span> <span style="color:#a6e22e">onPlayerStateChange</span>,
            <span style="color:#e6db74">&#39;onError&#39;</span>        <span style="color:#f92672">:</span> <span style="color:#a6e22e">error</span>
        }
    }
);
</code></pre></div><p>playerVars can refer <a href="https://developers.google.com/youtube/player_parameters?playerVersion=HTML5&amp;hl=zh-cn">YouTube 嵌入式播放器参数</a></p>
<p>3.Handle onPlayerReady, onPlayerStateChange, error</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">onPlayerReady</span>(<span style="color:#a6e22e">e</span>) {
    <span style="color:#75715e">// do something
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">onPlayerStateChange</span>(<span style="color:#a6e22e">e</span>) {
    <span style="color:#75715e">// do something
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">e</span>) {
    <span style="color:#75715e">// do something
</span><span style="color:#75715e"></span>}
</code></pre></div><h3 id="sample-code">Sample code</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span>&gt;
&lt;<span style="color:#f92672">title</span>&gt;youtube_iframe_api&lt;/<span style="color:#f92672">title</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;player&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">player</span>;

    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">loadPlayer</span>() {
        <span style="color:#66d9ef">if</span> (document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;#player&#39;</span>)) {
            <span style="color:#75715e">// get API
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">tag</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;script&#39;</span>),
            <span style="color:#a6e22e">firstScriptTag</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementsByTagName</span>(<span style="color:#e6db74">&#39;script&#39;</span>)[<span style="color:#ae81ff">0</span>];
            <span style="color:#a6e22e">tag</span>.<span style="color:#a6e22e">src</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://www.youtube.com/iframe_api&#39;</span>;
            <span style="color:#a6e22e">firstScriptTag</span>.<span style="color:#a6e22e">parentNode</span>.<span style="color:#a6e22e">insertBefore</span>(<span style="color:#a6e22e">tag</span>, <span style="color:#a6e22e">firstScriptTag</span>);

            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">videoList</span> <span style="color:#f92672">=</span> [],
                <span style="color:#a6e22e">playCount</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">video_ID</span> <span style="color:#f92672">=</span> {
                <span style="color:#e6db74">&#39;v_2&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;V8BTsiMxyaQ&#39;</span>,
                <span style="color:#e6db74">&#39;v_0&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;7wvNwOPprBE&#39;</span>,
                <span style="color:#e6db74">&#39;v_1&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;mTSuiGubCHE&#39;</span>,
                <span style="color:#e6db74">&#39;v_8&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;DDs5bXh4erM&#39;</span>,
                <span style="color:#e6db74">&#39;v_3&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;n-BXNXvTvV4&#39;</span>,
                <span style="color:#e6db74">&#39;v_4&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;CRJDQQXS4uE&#39;</span>,
                <span style="color:#e6db74">&#39;v_5&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ASO_zypdnsQ&#39;</span>,
                <span style="color:#e6db74">&#39;v_6&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;IZkYdqRWKaY&#39;</span>,
                <span style="color:#e6db74">&#39;v_7&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;9Y15es8OY0U&#39;</span>,
                <span style="color:#e6db74">&#39;v_9&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;LWV-f6dMN3Q&#39;</span>
            };

            <span style="color:#75715e">// videoList array
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">key</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">video_ID</span>) {
                <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">video_ID</span>[<span style="color:#a6e22e">key</span>];
                <span style="color:#a6e22e">videoList</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">value</span>);
            }

            <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">playChannel</span>() {
                <span style="color:#75715e">// init player
</span><span style="color:#75715e"></span>                <span style="color:#a6e22e">player</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">YT</span>.<span style="color:#a6e22e">Player</span>(
                    <span style="color:#e6db74">&#39;player&#39;</span>,
                    {
                        <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;1280&#39;</span>,
                        <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;720&#39;</span>,
                        <span style="color:#a6e22e">videoId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">videoList</span>[<span style="color:#ae81ff">0</span>],
                        <span style="color:#a6e22e">playerVars</span><span style="color:#f92672">:</span> {
                            <span style="color:#a6e22e">rel</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
                            <span style="color:#a6e22e">autoplay</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
                            <span style="color:#a6e22e">disablekb</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
                            <span style="color:#a6e22e">showsearch</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
                            <span style="color:#a6e22e">showinfo</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
                            <span style="color:#a6e22e">controls</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
                            <span style="color:#a6e22e">autohide</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
                            <span style="color:#a6e22e">modestbranding</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
                            <span style="color:#a6e22e">wmode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;opaque&#39;</span>,
                            <span style="color:#a6e22e">hd</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
                            <span style="color:#a6e22e">html5</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
                            <span style="color:#a6e22e">iv_load_policy</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>
                        },
                        <span style="color:#a6e22e">events</span><span style="color:#f92672">:</span> {
                            <span style="color:#e6db74">&#39;onReady&#39;</span>        <span style="color:#f92672">:</span> <span style="color:#a6e22e">onPlayerReady</span>,
                            <span style="color:#e6db74">&#39;onStateChange&#39;</span>  <span style="color:#f92672">:</span> <span style="color:#a6e22e">onPlayerStateChange</span>,
                            <span style="color:#e6db74">&#39;onError&#39;</span>        <span style="color:#f92672">:</span> <span style="color:#a6e22e">error</span>
                        }
                    }
                );

                <span style="color:#75715e">// play video
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">onPlayerReady</span>(<span style="color:#a6e22e">e</span>) {
                    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;onPlayerReady&#39;</span>);
                }

                <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">e</span>) {
                    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;Error&#39;</span>);
                    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">e</span>);
                }
            }

            <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">onPlayerStateChange</span>(<span style="color:#a6e22e">e</span>) {
                <span style="color:#75715e">// get state
</span><span style="color:#75715e"></span>                <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">e</span>);

                <span style="color:#75715e">// play list loop when video end play next video
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">data</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) {
                    <span style="color:#a6e22e">playCount</span><span style="color:#f92672">++</span>;
                    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">playCount</span> <span style="color:#f92672">&gt;</span> (<span style="color:#a6e22e">videoList</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)) {
                        <span style="color:#a6e22e">playCount</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
                    }
                    <span style="color:#a6e22e">player</span>.<span style="color:#a6e22e">loadVideoById</span>(<span style="color:#a6e22e">videoList</span>[<span style="color:#a6e22e">playCount</span>]);
                    <span style="color:#a6e22e">player</span>.<span style="color:#a6e22e">playVideo</span>();

                }
            }

            <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">onYouTubeIframeAPIReady</span>() {
                <span style="color:#a6e22e">playChannel</span>();
            }

            <span style="color:#a6e22e">setTimeout</span>(<span style="color:#66d9ef">function</span>() {
                <span style="color:#a6e22e">onYouTubeIframeAPIReady</span>();
            }, <span style="color:#ae81ff">1200</span>);
        }
    }

    <span style="color:#a6e22e">loadPlayer</span>();
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p><a href="http://stackoverflow.com/questions/5845484/force-html5-youtube-video">Refer - Force HTML5 youtube video</a></p>
<h3 id="onerror-error-code">onError error code</h3>
<ul>
<li>2 – The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.</li>
<li>5 – The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.</li>
<li>100 – The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.</li>
<li>101 – The owner of the requested video does not allow it to be played in embedded players.</li>
<li>150 – This error is the same as 101. It's just a 101 error in disguise!</li>
</ul>
<h3 id="youtube-data-api">Youtube Data api</h3>
<p>Get video data api</p>
<pre><code>http://gdata.youtube.com/feeds/api/videos/&lt;youtube_id&gt;
</code></pre><p>It return format is XML</p>
<pre><code>http://gdata.youtube.com/feeds/api/videos/&lt;youtube_id&gt;?alt=json
</code></pre><p>It return format is json</p>
<p><a href="https://developers.google.com/youtube/reference?hl=zh-cn">参考指南：Data API 协议</a>
<a href="https://developers.google.com/youtube/2.0/developers_guide_json?hl=zh-cn">Developer's Guide: JSON / JavaScript</a>
<a href="http://stackoverflow.com/questions/2601193/how-to-ensure-youtube-api-only-returns-videos-that-are-streamable-on-iphone">Refer- How to ensure YouTube API only returns videos that are streamable on iPhone?</a></p>
<h3 id="something-note">Something note</h3>
<p>Player API 其中有個參數允許強制使用 HTML5 player 這建議有個好處與壞處
好處是不會有廣告
壞處是如果遇到訊源只有 flash 格式的影片 player 會重啟為 flash player
用 gData 抓影片資訊可抓到其中一個 <code>content</code> 的 key 其中就有提供此影片所帶有的格式
<a href="http://tedshd.lionfree.net/demo/youtube_api/youtube_video_gdata.html">test page</a></p>
<ul>
<li>5 - HTTP URL to the embeddable player (SWF) for this video. This format is not available for a video that is not embeddable. Developers commonly add &amp;format=5 to their queries to restrict results to videos that can be embedded on their sites.</li>
<li>1 - RTSP streaming URL for mobile video playback. H.263 video (up to 176x144) and AMR audio.</li>
<li>6 - RTSP streaming URL for mobile video playback. MPEG-4 SP video (up to 176x144) and AAC audio.</li>
</ul>
<p><a href="https://developers.google.com/youtube/2.0/reference?hl=zh-tw#Custom_parameters">Refer - Reference Guide: Data API Protocol</a></p>
<p>實測在 mobile 裝置上(Android, iOS), 參數設定 autoplay 是無效的, 利用 JavaScript 控制讓 youtube 播放也是無效的, 必須用手去點擊播放</p>

    </main>
</section>


<footer class="p-strip is-wrapper">
    <div class="row">
        <div class="p-article-pagination">
    

    
    <a class="p-article-pagination__link--previous" href="http://blog.tedshd.io/posts/2013-12-19-konami-cheat-simple-javascript-implementation/">
        <span class="p-article-pagination__label">Previous</span>
        <span class="p-article-pagination__title">
            Konami 密技 JavaScript 簡單實作
        </span>
    </a>
    

    
    <a class="p-article-pagination__link--next" href="http://blog.tedshd.io/posts/2013-12-25-javascript-jsonp/">
        <span class="p-article-pagination__label">Next</span>
        <span class="p-article-pagination__title">
            JavaScript - jsonp
        </span>
    </a>
    
</div>
    </div>
</footer>



<div class="p-strip u-no-padding--bottom is-shallow">
    <div class="row">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "tedshd" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
</div>



        </div><footer class="p-strip is-shallow page-footer">
    <div class="row">
        <div class="col-12  u-align--center">
            <p>
                © 2020 Tedshd
            </p>
        </div>
    </div>
</footer>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-49247550-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




</body>
</html>
