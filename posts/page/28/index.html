<!DOCTYPE html>
<html lang="en"><head>
    





<title>Posts | tedshd&#39;s DevNote</title>

<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content='Develop &amp; Design Note by Ted'>
<meta name="keywords" content=''>
<meta name="msapplication-TileColor" content="#b91d47">
<meta name="theme-color" content="#ffffff">

<link rel="canonical" href="http://blog.tedshd.io/posts/" />
<link rel="apple-touch-icon" sizes="180x180" href='/apple-touch-icon.png'>
<link rel="icon" type="image/png" sizes="32x32" href='/favicon-32x32.png'>
<link rel="icon" type="image/png" sizes="16x16" href='/favicon-16x16.png'>
<link rel="manifest" href='/site.webmanifest'>
<link rel="mask-icon" href='/safari-pinned-tab.svg' color="#696969">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">

<meta property="og:title" content="Posts" />
<meta property="og:description" content="Develop &amp; Design Note by Ted" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://blog.tedshd.io/posts/" />
<meta property="og:image" content="https://s3.amazonaws.com/logdown-production/system/blog/3202/og_image/logdown.png"/>
<meta property="og:updated_time" content="2020-05-04T13:53:19+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://s3.amazonaws.com/logdown-production/system/blog/3202/og_image/logdown.png"/>

<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content="Develop &amp; Design Note by Ted"/>

<meta itemprop="name" content="">
<meta itemprop="description" content="">
    
    
    <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="tedshd&#39;s DevNote" />
    
    
    
    
    <link rel="stylesheet" href='/css/style.css'>

    

</head><body><header id="navigation" class="p-navigation">
    <div class="p-navigation__row">
        <div class="p-navigation__banner">
            <div class="p-navigation__logo">
                <a class="p-navigation__link u-vertically-center p-link--logo" href="http://blog.tedshd.io/">
                    tedshd&#39;s DevNote
                </a>
            </div>
            
            <a href="#navigation" class="p-navigation__toggle--open" title="menu">
                <i class="p-icon--menu"></i>
            </a>
            <a href="#navigation-closed" class="p-navigation__toggle--close" title="close menu">
                <i class="p-icon--close"></i>
            </a>
        </div>

        <nav class="p-navigation__nav">
            <span class="u-off-screen">
                <a href="#main-content">Jump to main content</a>
            </span>

            <ul class="p-navigation__items" role="menu">
                
                <li class="p-navigation__item" role="menuitem">
                    <a class="p-navigation__link" href="http://blog.tedshd.io/categories">Categories</a>
                </li>
                
                <li class="p-navigation__item" role="menuitem">
                    <a class="p-navigation__link" href="http://blog.tedshd.io/tags">tags</a>
                </li>
                
            </ul>

            
            <form class="p-search-box" action="https://www.google.com/search" target="_blank">
    <input type="search" class="p-search-box__input" name="q" placeholder='Search'
        required="" aria-label="Query">
    <input type="hidden" name="sitesearch" value="http://blog.tedshd.io/">
    <button type="reset" class="p-search-box__reset" alt="reset" aria-label="Reset">
        <i class="p-icon--close"></i>
    </button>
    <button type="submit" class="p-search-box__button" alt="search" aria-label="Search">
        <i class="p-icon--search"></i>
    </button>
</form>
            
        </nav>
    </div>
</header><div id="main-content">



<div class="p-strip page-banner">
    <div class="row u-vertically-center">
        <div class="col-8">
            <h1>Posts</h1>
            <p>Develop &amp; Design Note by Ted</p>
        </div>
    </div>
</div>










    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    


<<<<<<< HEAD




<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
=======
>>>>>>> 99bd221b9ed83fb42ad5c8b76af86f4e64ecbffc


<div class="p-strip is-wrapper posts">
    <div class="row">
        

        

        <div class="col-12">
            <div class="p-card">
<<<<<<< HEAD
                <h3><a href="https://blog.tedshd.io/posts/2016-11-03-javascript-get-text-from-dom-object-not-include-wrap-html-tag-in-child/">JavaScript - get text from dom object not include wrap html tag in child</a></h3>

                
                
                <p>


<span class=" u-capitalized ">
    on
</span>
2016-11-03
</p>
                

                
                <p><h2 id="javascript---get-text-from-dom-object-not-include-wrap-html-tag-in-child">JavaScript - get text from dom object not include wrap html tag in child</h2>
<h3 id="intro">Intro</h3>
<h4 id="case-1">Case 1</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;case_1&#34;</span>&gt;
	Hi, This is a &lt;<span style="color:#f92672">em</span>&gt;Apple&lt;/<span style="color:#f92672">em</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><p>I want to get <code>Hi, This is a </code></p>
<h4 id="case-2">Case 2</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;case_2&#34;</span>&gt;
	&lt;<span style="color:#f92672">p</span>&gt;I have a pen.&lt;/<span style="color:#f92672">p</span>&gt;PPAP
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><p>I want to get <code>PPAP</code></p>
<h4 id="case-3">Case 3</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;case_3&#34;</span>&gt;
	Apple&lt;<span style="color:#f92672">span</span>&gt; and pen&lt;/<span style="color:#f92672">span</span>&gt; and pineapple pen
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><p>I want to get <code>Apple</code> and <code> and pineapple pen</code></p>
<p>Than you can use this</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">parseText</span>(<span style="color:#a6e22e">dom</span>) {
	<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">dom</span>.<span style="color:#a6e22e">length</span>) {
		<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">warn</span>(<span style="color:#e6db74">&#39;This is a domlist&#39;</span>);
		<span style="color:#66d9ef">return</span>;
	}
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">dom</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">dom</span>.<span style="color:#a6e22e">childNodes</span>,
		<span style="color:#a6e22e">list</span> <span style="color:#f92672">=</span> [];
	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;  <span style="color:#a6e22e">x</span><span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">dom</span>.<span style="color:#a6e22e">length</span>;<span style="color:#a6e22e">x</span><span style="color:#f92672">++</span>) {
		<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">dom</span>[<span style="color:#a6e22e">x</span>].<span style="color:#a6e22e">nodeType</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">3</span>) {
			<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">textContent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">dom</span>[<span style="color:#a6e22e">x</span>].<span style="color:#a6e22e">nodeValue</span>,
				<span style="color:#a6e22e">matchWrap</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">textContent</span>.<span style="color:#a6e22e">match</span>(<span style="color:#e6db74">/\n +/</span>);
			<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">matchWrap</span>) {
				<span style="color:#a6e22e">textContent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">textContent</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#a6e22e">matchWrap</span>, <span style="color:#e6db74">&#39;&#39;</span>);
			}
			<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">textContent</span>) {
				<span style="color:#a6e22e">list</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">textContent</span>);
			}
		}
	}
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">list</span>;
}
</code></pre></div><p>You also can use <code>filter</code> handle for loop</p>
<p><a href="https://tedshd.io/demo/parse_text.html">demo</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter">Refer - Array.prototype.filter()</a></p>
</p>
                

                

                
                <p><a href="https://blog.tedshd.io/posts/2016-11-03-javascript-get-text-from-dom-object-not-include-wrap-html-tag-in-child/">Read more</a></p>
                
            </div>
        </div>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        
        <ins class="adsbygoogle" style="display:block;text-align: center;" data-ad-client="ca-pub-0553186380244641"
            data-ad-slot="6176993325" data-ad-format="auto" data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        

        

        <div class="col-12">
            <div class="p-card">
                <h3><a href="https://blog.tedshd.io/posts/2016-09-19-content-security-policy-on-the-feasibility-of-general-site-placed/">Content Security Policy - 論一般網站放置的可行性</a></h3>
=======
                <h3><a href="http://blog.tedshd.io/posts/2016-09-19-content-security-policy-on-the-feasibility-of-general-site-placed/">Content Security Policy - 論一般網站放置的可行性</a></h3>
>>>>>>> 99bd221b9ed83fb42ad5c8b76af86f4e64ecbffc

                
                
                <p>


<span class=" u-capitalized ">
    on
</span>
2016-09-19
</p>
                

                
                <p>Content Security Policy - 論一般網站放置的可行性 前言 Content Security Policy 出來也有一段時間了 他的目的是為了從 header 下手去抵禦一些攻擊, 基本上遵循它的rule 就可以避掉一些 XSS 攻擊 但</p>
                

                

                
                <p><a href="http://blog.tedshd.io/posts/2016-09-19-content-security-policy-on-the-feasibility-of-general-site-placed/">Read more</a></p>
                
            </div>
        </div>
        
<<<<<<< HEAD
=======

        

        <div class="col-12">
            <div class="p-card">
                <h3><a href="http://blog.tedshd.io/posts/2016-09-07-javascript-touch-and-click-behavior-in-mobile-browser/">JavaScript - touch and click behavior in mobile browser</a></h3>

                
                
                <p>


<span class=" u-capitalized ">
    on
</span>
2016-09-07
</p>
                

                
                <p>JavaScript - touch and click behavior in mobile browser On mobile web
If you click it
And mobile browser can fire touchstart and click
Fire touchstart event and then fire click event has the difference in time.
the step is touchstart -&gt; click
So if you has a popup and you use touchstart event bind close behavior.
You can find it fire click event.
Then some bug happened.
In this case(suggest use mobile browser)</p>
                

                

                
                <p><a href="http://blog.tedshd.io/posts/2016-09-07-javascript-touch-and-click-behavior-in-mobile-browser/">Read more</a></p>
                
            </div>
        </div>
        
>>>>>>> 99bd221b9ed83fb42ad5c8b76af86f4e64ecbffc
    </div>
</div>

<div class="p-strip is-wrapper">
    <div class="row">
        <footer class="p-article-pagination">
    
    <a class="p-article-pagination__link--previous p-article-pagination__link--no-title" href="/posts/page/27/">
        <span class="p-article-pagination__label">Previous</span>
    </a>
    

    
    <a class="p-article-pagination__link--next p-article-pagination__link--no-title" href="/posts/page/29/">
        <span class="p-article-pagination__label">Next</span>
    </a>
    
</footer>
    </div>
</div>


        </div><footer class="p-strip is-shallow page-footer">
    <div class="row">
        <div class="col-12  u-align--center">
            <p>
                © 2020 Tedshd
            </p>
        </div>
    </div>
</footer>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-49247550-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




</body>
</html>
